<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Bottomonium suppression as an open quantum system | TomMago</title>
<meta name="keywords" content="GSoC">
<meta name="description" content="We recently put out a paper on bottomonium suppression in the quark gluon plasma 2403.15545. This is a project I&rsquo;ve been working on for some time now and I want to show real quick what we have been doing.
Quarkonium suppression Heavy ion collisions are experiments where two heavy nuclei are collided. Such experiments are conducted e.g. at CERN. In these collisions a state of matter called the quark gluon plasma is created.">
<meta name="author" content="Tom Magorsch">
<link rel="canonical" href="https://tommago.com/posts/vpert/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.18c187d9a47d1bb26b9343ff3062c17d3ec3fafc4f83bd2fd8c235ccdb100f6d.css" integrity="sha256-GMGH2aR9G7Jrk0P/MGLBfT7D&#43;vxPg70v2MI1zNsQD20=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://tommago.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://tommago.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://tommago.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://tommago.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://tommago.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://tommago.com/posts/vpert/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css" integrity="sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js" integrity="sha384-X/XCfMm41VSsqRNQgDerQczD69XqmjOOOwYQvr/uuC+j4OPoNhVgjdGFwhvN02Ja" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
onload="renderMathInElement(document.body,
        {
              delimiters: [
                  {left: '$$', right: '$$', display: true},
                  {left: '$', right: '$', display: false},
              ],
              throwOnError : false
          });"></script>



<link rel="stylesheet" type="text/css" href="/hugo-cite.css" />

<script async src="https://www.googletagmanager.com/gtag/js?id=G-9MSJDZKGWH"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-9MSJDZKGWH', { 'anonymize_ip': false });
}
</script>
<meta property="og:title" content="Bottomonium suppression as an open quantum system" />
<meta property="og:description" content="We recently put out a paper on bottomonium suppression in the quark gluon plasma 2403.15545. This is a project I&rsquo;ve been working on for some time now and I want to show real quick what we have been doing.
Quarkonium suppression Heavy ion collisions are experiments where two heavy nuclei are collided. Such experiments are conducted e.g. at CERN. In these collisions a state of matter called the quark gluon plasma is created." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://tommago.com/posts/vpert/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-04-11T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2024-04-11T00:00:00&#43;00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Bottomonium suppression as an open quantum system"/>
<meta name="twitter:description" content="We recently put out a paper on bottomonium suppression in the quark gluon plasma 2403.15545. This is a project I&rsquo;ve been working on for some time now and I want to show real quick what we have been doing.
Quarkonium suppression Heavy ion collisions are experiments where two heavy nuclei are collided. Such experiments are conducted e.g. at CERN. In these collisions a state of matter called the quark gluon plasma is created."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://tommago.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Bottomonium suppression as an open quantum system",
      "item": "https://tommago.com/posts/vpert/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Bottomonium suppression as an open quantum system",
  "name": "Bottomonium suppression as an open quantum system",
  "description": "We recently put out a paper on bottomonium suppression in the quark gluon plasma 2403.15545. This is a project I\u0026rsquo;ve been working on for some time now and I want to show real quick what we have been doing.\nQuarkonium suppression Heavy ion collisions are experiments where two heavy nuclei are collided. Such experiments are conducted e.g. at CERN. In these collisions a state of matter called the quark gluon plasma is created.",
  "keywords": [
    "GSoC"
  ],
  "articleBody": "We recently put out a paper on bottomonium suppression in the quark gluon plasma 2403.15545. This is a project I’ve been working on for some time now and I want to show real quick what we have been doing.\nQuarkonium suppression Heavy ion collisions are experiments where two heavy nuclei are collided. Such experiments are conducted e.g. at CERN. In these collisions a state of matter called the quark gluon plasma is created. The quark gluon plasma is a hot liquid like state of matter, where light quarks, the fundamental building blocks of matter do bind to composite particles. Such a condition is assumed to have existed in the early universe shortly after the big bang, where matter was condensed to a tight space.\nThe quark gluon plasma (QGP) only exists for a short amount of time. It quickly cools down and hadronizes, dissolving into bound hadrons. It is therefore hard to access the QGP experimentally as it cant be detected.\nA possible probe was famously proposed by Matui and Satz. The idea is to use heavy quarkonium as a test particle. Heavy quarkonium like charmonium (charm anti-charm quark bound states) or bottomonium (bottom anti-bottom bound states) are produced in the initial stages of the collision. They afterwards travel through the QGP and are recorded in the detector of the experiments after hadronization (the quarkonium decays and the decay prodcuts can be used to reconstruct it).\nNow the idea is that inside the hot QGP the quarkonium “melts” leading to a lower number of quarkonia measured. One can then see the effect of the QGP by comparing the number of quarkonia in heavy ion collisions to the number in proton-proton collisions. Since no QGP is created in proton-proton collisions, one expects there to be less quarkonia recorded in heavy ion experiemnts due to the melting effect in the QGP.\nThis phenomenon is called quarkonium suppression and we aim to describe it theoretically.\nOpen quantum systems To describe quarkonium suppression we use the formalism of open quantum systems. Here the idea is that usually a quantum system is not perfectly isolated, but instead it interacts with an environment. This interaction of course affects the evolution of the system.\nOne can formalize this by considering the evolution of the full system, including the system $S$ and the environment $E$. The hamiltonian of the joint system is given by $$H = H_S\\otimes 1_E + 1_S\\otimes H_E + H_\\mathrm{int},$$ where $H_\\mathrm{int}$ contains the interaction between system $S$ and environment $E$.\nUsually the evolution of a closed quantum system is given by the von Neumann equation $$\\frac{d}{dt}\\rho(t) = -i[H,\\rho(t)].$$ We apply the von Neumann equation to the full hamiltonian $H$, which acts on the Hilbert space $\\mathcal{H}_S\\otimes \\mathcal{H}_E$. Since we only care about the evolution of our system $\\rho_S$, we afterwards trace out the environmental degrees of freedom to obtain an evolution equation for the reduced density matrix $\\rho_S(t) = \\text{Tr}_E[\\rho(t)]$.\nThis leads to the infamous Lindblad equation $$\\frac{d}{dt}\\rho_S(t) = -i[H_S,\\rho_S(t)] + \\sum_n \\left[C_n\\rho_S(t)C^\\dagger_n - \\frac{1}{2}\\{C^\\dagger_nC_n,\\rho_S(t)\\}\\right].$$ Here the $C_n$ are so called Lindblad or jump operators. They contain contributions from interactions with the environment. They need to be derived for a given problem.\nSolving this equation provides the time evolution of our system under the influence of the environment.\nQuarkonium suppression as an open quantum system In the case of quarkonium suppression, the system $S$ is the quarkonium particle and the environment $E$ is the quark gluon plasma. When the quarkonium travels through the quark gluon plasma, they interact through the strong force, quantum chromodynamics (QCD).\nOne can greatly simplify calculations in QCD by using effective field theories. They exploit the fact that in many problems only certain energy scales are relevant. Using effective field theories of QCD it is possible to derive a Lindblad equation for quarkonium suppression. By solving it, we obtain the time evolution of the quarkonium state. To obtain the survival probability of the quarkonium we then calculate the overlap with the vacuum quarkonium wave function.\nFrome the survival probability one can calculate the nuclear modification factor $R_{AA}$, which can be compared to experimental results.\nThe quarkonium potential A central part of the theoretical description is the quarkonium potential. The quarkonium potential is the potential which confines the quark and the anti-quark together. In a quantum mechanical description one can calculate the mass of quarkonium states by solving the schrödinger equation with the respective quarkonium potential. This gives the so called spectrum, which can be compared to experimental measurements. Now in previous works the Coulomb potential has been used as quarkonium potential. The Coulomb potential is proportional to $1/r$, where $r$ is the distance, and it is well known from e.g. electromagnetism. For quarks, we know however that this potential only gives a very limited description. In QCD, we know that quarks are confined, that means when you try to pull them apart, the attraction becomes stronger and stronger. This is not the case for the Coulomb potential since it vanishes for $r\\to\\infty$. In the latest paper, we therefore investigate the inclusion of a more realistic potential derived from QCD.\nIn the above plot the dashed lines are the Coulomb potentials (attractive and repulsive meaning negative and positive factors) and the solid lines are the new potentials we implemented. One can see that the solid blue line increases for large $r$ hinting at the onset of confinement, which is not present in the Coulomb potential.\nQuarkonium suppression predictions We solve the Lindblad equation by using a Monte Carlo method, which can be scaled to an HPC system. The results are shown below. The bands represent the predicts for the supression factor we obtain.\nOn the $x$-axis we have the number of participating partions in the collision, which is essentially the amount of overlap the two nuclei have during the collission. On the $y$-axis we plot the nuclear modification factor, which gives the suppression compared to proton-proton collisions. As can be seen, we describe the experimental data quite well in this case.\n",
  "wordCount" : "1000",
  "inLanguage": "en",
  "datePublished": "2024-04-11T00:00:00Z",
  "dateModified": "2024-04-11T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Tom Magorsch"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://tommago.com/posts/vpert/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "TomMago",
    "logo": {
      "@type": "ImageObject",
      "url": "https://tommago.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://tommago.com/" accesskey="h" title="TomMago (Alt + H)">TomMago</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://notes.tommago.com" title="Notes">
                    <span>Notes</span>
                </a>
            </li>
            <li>
                <a href="https://tommago.com/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://tommago.com/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://tommago.com/">Home</a>&nbsp;»&nbsp;<a href="https://tommago.com/posts/">Posts</a></div>
    <h1 class="post-title">
      Bottomonium suppression as an open quantum system
    </h1>
    <div class="post-meta"><span title='2024-04-11 00:00:00 +0000 UTC'>April 11, 2024</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;Tom Magorsch

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#quarkonium-suppression" aria-label="Quarkonium suppression">Quarkonium suppression</a></li>
                <li>
                    <a href="#open-quantum-systems" aria-label="Open quantum systems">Open quantum systems</a></li>
                <li>
                    <a href="#quarkonium-suppression-as-an-open-quantum-system" aria-label="Quarkonium suppression as an open quantum system">Quarkonium suppression as an open quantum system</a></li>
                <li>
                    <a href="#the-quarkonium-potential" aria-label="The quarkonium potential">The quarkonium potential</a></li>
                <li>
                    <a href="#quarkonium-suppression-predictions" aria-label="Quarkonium suppression predictions">Quarkonium suppression predictions</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>We recently put out a paper on bottomonium suppression in the quark gluon plasma <a href="https://arxiv.org/abs/2403.15545">2403.15545</a>. This is a project I&rsquo;ve been working on for some time now and I want to show real quick what we have been doing.</p>
<h3 id="quarkonium-suppression">Quarkonium suppression<a hidden class="anchor" aria-hidden="true" href="#quarkonium-suppression">#</a></h3>
<p>Heavy ion collisions are experiments where two heavy nuclei are collided. Such experiments are conducted e.g. at CERN. In these collisions a state of matter called the quark gluon plasma is created.
The quark gluon plasma is a hot liquid like state of matter, where light quarks, the fundamental building blocks of matter do bind to composite particles. Such a condition is assumed to have existed in the early universe shortly after the big bang, where matter was condensed to a tight space.</p>
<p>The quark gluon plasma (QGP) only exists for a short amount of time. It quickly cools down and hadronizes, dissolving into bound hadrons.
It is therefore hard to access the QGP experimentally as it cant be detected.</p>
<p>A possible probe was famously proposed by Matui and Satz. The idea is to use heavy quarkonium as a test particle. Heavy quarkonium like charmonium (charm anti-charm quark bound states) or bottomonium (bottom anti-bottom bound states) are produced in the initial stages of the collision. They afterwards travel through the QGP and are recorded in the detector of the experiments after hadronization (the quarkonium decays and the decay prodcuts can be used to reconstruct it).</p>
<p>Now the idea is that inside the hot QGP the quarkonium &ldquo;melts&rdquo; leading to a lower number of quarkonia measured. One can then see the effect of the QGP by comparing the number of quarkonia in heavy ion collisions to the number in proton-proton collisions. Since no QGP is created in proton-proton collisions, one expects there to be less quarkonia recorded in heavy ion experiemnts due to the melting effect in the QGP.</p>
<p>This phenomenon is called quarkonium suppression and we aim to describe it theoretically.</p>
<h3 id="open-quantum-systems">Open quantum systems<a hidden class="anchor" aria-hidden="true" href="#open-quantum-systems">#</a></h3>
<p>To describe quarkonium suppression we use the formalism of open quantum systems. Here the idea is that usually a quantum system is not perfectly isolated, but instead it interacts with an environment. This interaction of course affects the evolution of the system.</p>
<p><img loading="lazy" src="../OQS.png" alt="Open Quantum System"  />
</p>
<p>One can formalize this by considering the evolution of the full system, including the system $S$ and the environment $E$. The hamiltonian of the joint system is given by
$$H = H_S\otimes 1_E + 1_S\otimes H_E + H_\mathrm{int},$$
where $H_\mathrm{int}$ contains the interaction between system $S$ and environment $E$.</p>
<p>Usually the evolution of a closed quantum system is given by the von Neumann equation
$$\frac{d}{dt}\rho(t) = -i[H,\rho(t)].$$
We apply the von Neumann equation to the full hamiltonian $H$, which acts on the Hilbert space $\mathcal{H}_S\otimes \mathcal{H}_E$. Since we only care about the evolution of our system $\rho_S$, we afterwards trace out the environmental degrees of freedom to obtain an evolution equation for the reduced density matrix $\rho_S(t) = \text{Tr}_E[\rho(t)]$.</p>
<p>This leads to the infamous Lindblad equation
$$\frac{d}{dt}\rho_S(t) = -i[H_S,\rho_S(t)] + \sum_n \left[C_n\rho_S(t)C^\dagger_n - \frac{1}{2}\{C^\dagger_nC_n,\rho_S(t)\}\right].$$
Here the $C_n$ are so called Lindblad or jump operators. They contain contributions from interactions with the environment. They need to be derived for a given problem.</p>
<p>Solving this equation provides the time evolution of our system under the influence of the environment.</p>
<h3 id="quarkonium-suppression-as-an-open-quantum-system">Quarkonium suppression as an open quantum system<a hidden class="anchor" aria-hidden="true" href="#quarkonium-suppression-as-an-open-quantum-system">#</a></h3>
<p>In the case of quarkonium suppression, the system $S$ is the quarkonium particle and the environment $E$ is the quark gluon plasma. When the quarkonium travels through the quark gluon plasma, they interact through the strong force, quantum chromodynamics (QCD).</p>
<p><img loading="lazy" src="../qgp_oqs.png" alt="QGP as OQS"  />
</p>
<p>One can greatly simplify calculations in QCD by using effective field theories. They exploit the fact that in many problems only certain energy scales are relevant. Using effective field theories of QCD it is possible to derive a Lindblad equation for quarkonium suppression. By solving it, we obtain the time evolution of the quarkonium state.
To obtain the survival probability of the quarkonium we then calculate the overlap with the vacuum quarkonium wave function.</p>
<p>Frome the survival probability one can calculate the nuclear modification factor $R_{AA}$, which can be compared to experimental results.</p>
<h3 id="the-quarkonium-potential">The quarkonium potential<a hidden class="anchor" aria-hidden="true" href="#the-quarkonium-potential">#</a></h3>
<p>A central part of the theoretical description is the quarkonium potential. The quarkonium potential is the potential which confines the quark and the anti-quark together. In a quantum mechanical description one can calculate the mass of quarkonium states by solving the schrödinger equation with the respective quarkonium potential. This gives the so called spectrum, which can be compared to experimental measurements. Now in previous works the Coulomb potential has been used as quarkonium potential. The Coulomb potential is proportional to $1/r$, where $r$ is the distance, and it is well known from e.g. electromagnetism. For quarks, we know however that this potential only gives a very limited description. In QCD, we know that quarks are confined, that means when you try to pull them apart, the attraction becomes stronger and stronger. This is not the case for the Coulomb potential since it vanishes for $r\to\infty$. In the latest paper, we therefore investigate the inclusion of a more realistic potential derived from QCD.</p>
<p><img loading="lazy" src="../potentials.png" alt="Quarkonium potential"  />
</p>
<p>In the above plot the dashed lines are the Coulomb potentials (attractive and repulsive meaning negative and positive factors) and the solid lines are the new potentials we implemented. One can see that the solid blue line increases for large $r$ hinting at the onset of confinement, which is not present in the Coulomb potential.</p>
<h3 id="quarkonium-suppression-predictions">Quarkonium suppression predictions<a hidden class="anchor" aria-hidden="true" href="#quarkonium-suppression-predictions">#</a></h3>
<p>We solve the Lindblad equation by using a Monte Carlo method, which can be scaled to an HPC system. The results are shown below. The bands represent the predicts for the supression factor we obtain.</p>
<p><img loading="lazy" src="../febRaa_e.png" alt="Nuclear modification factor"  />
</p>
<p>On the $x$-axis we have the number of participating partions in the collision, which is essentially the amount of overlap the two nuclei have during the collission. On the $y$-axis we plot the nuclear modification factor, which gives the suppression compared to proton-proton collisions. As can be seen, we describe the experimental data quite well in this case.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://tommago.com/tags/gsoc/">GSoC</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://tommago.com/">TomMago</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
